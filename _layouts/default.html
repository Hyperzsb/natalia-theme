<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
    <!-- Google Fonts -->
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Lobster|Josefin+Sans|Josefin+Sans:b,i,bi|Titillium+Web|Titillium+Web:b,i,bi|Ubuntu|Ubuntu:b,i,bi|Noto+Serif+SC|Noto+Serif+SC:b,i,bi">
    <!-- HighlightJS -->
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.5.0/build/styles/atom-one-dark.min.css">
    <!-- Gitalk -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ site.baseUrl }}/assets/css/light.css">
    <!-- Page Title -->
    {% if page.title == "Home" %}
    <title>{{ site.windowTitle }}</title>
    {% else %}
    <title>{{ page.title }} | {{ site.windowTitle }}</title>
    {% endif %}
    <!-- favicon.ico -->
    <link rel="shortcut icon" href="{{ site.baseUrl }}/assets/images/favicon.png">
    <!-- jekyll-seo-tag -->
    {% seo %}
</head>
<body class="font-ubuntu">
{% if site.setting.enableLoadingModal %}
{% include loading.html %}
{% endif %}
<div id="main-content">
    {% include header.html %}
    {{ content }}
    {% include footer.html %}
</div>
<!-- Bootstrap Library -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
<!-- Loadash Library -->
<script src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"></script>
<!-- Highlight JS Library -->
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.5.0/build/highlight.min.js"></script>
<script>
    hljs.highlightAll();
</script>
<!-- MathJax -->
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script>
    MathJax = {
        tex: {
            inlineMath: [['$', '$'], ['\\(', '\\)']]
        }
    };
</script>
{% if page.comment == true %}
<!-- Gitalk Library -->
<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script>
    const gitalk = new Gitalk({
        clientID: '{{ site.gitalk.clientID }}',
        clientSecret: '{{ site.gitalk.clientSecret }}',
        repo: '{{ site.gitalk.repo }}',
        owner: '{{ site.gitalk.owner }}',
        admin: ['{{ site.gitalk.admin }}'],
        {% if page.legacyCommentID %}
        id: '{{ page.legacyCommentID }}',
        {% else %}
        id: location.pathname,
        {% endif %}
        title: location.host + ": " + document.title,
        language: 'en',
        distractionFreeMode: false
    })

    gitalk.render('gitalk-container')
</script>
{% endif %}
{% if page.contact == true %}
<!-- EmailJS -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
<script type="text/javascript">
    (function () {
        emailjs.init("{{ site.emailjs.userID }}");
    })();
    window.onload = function () {
        let contactForm = document.getElementById('contact-form');
        if (contactForm != null) {
            contactForm.addEventListener("submit", function (ev) {
                ev.preventDefault();
                this.contact_number.value = Math.random() * 100000 | 0;
                emailjs.sendForm('{{ site.emailjs.serviceID }}', '{{ site.emailjs.templateID }}', this)
                    .then(function () {
                        const resultModal = new bootstrap.Modal(document.getElementById('contact-result-modal'));
                        if (resultModal != null) {
                            document.getElementById("contact-result-modal-title").innerText = "Succeeded!"
                            document.getElementById("contact-result-modal-body").innerText = "Send message successfully! Please do not send the same message repeatedly.";
                        }
                        resultModal.show();
                        document.getElementById("contact-form-reset").click();
                    }, function (error) {
                        const resultModal = new bootstrap.Modal(document.getElementById('contact-result-modal'));
                        if (resultModal != null) {
                            document.getElementById("contact-result-modal-title").innerText = "Failed!"
                            document.getElementById("contact-result-modal-body").innerText = "Send message unsuccessfully! Please try again later. Error: " + error;
                        }
                        resultModal.show();
                        document.getElementById("contact-form-reset").click();
                    });
            })
        }
    }
</script>
{% endif %}
{% if site.clarity.enable %}
<!-- Microsoft Clarity -->
<script type="text/javascript">
    (function (c, l, a, r, i, t, y) {
        c[a] = c[a] || function () {
            (c[a].q = c[a].q || []).push(arguments)
        };
        t = l.createElement(r);
        t.async = 1;
        t.src = "https://www.clarity.ms/tag/" + i;
        y = l.getElementsByTagName(r)[0];
        y.parentNode.insertBefore(t, y);
    })(window, document, "clarity", "script", "{{ site.clarity.projectID }}");
</script>
{% endif %}
<!-- Custom Library -->
<script src="{{ site.baseUrl }}/assets/js/utils.js"></script>
<script src="{{ site.baseUrl }}/assets/js/main.js"></script>
{% if site.setting.enableDarkMode %}
<script id="dark-mode-script" src="{{ site.baseUrl }}/assets/js/darkMode.js" baseUrl="{{ site.baseUrl }}"></script>
{% endif %}
</body>
</html>